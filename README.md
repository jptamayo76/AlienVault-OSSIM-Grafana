# AlienVault-OSSIM-Grafana
## Grafana Dashboard for AlienVault OSSIM 5.8

![image](https://github.com/user-attachments/assets/4585da81-8f7f-4327-8e4a-0f9664e04f94)


![image](https://github.com/user-attachments/assets/5793b0ca-5892-4a48-ac7c-77739580ef41)


![image](https://github.com/user-attachments/assets/8e92e812-bd9c-458b-ac76-39893f3319e1)

![image](https://github.com/user-attachments/assets/396ec263-cb76-4504-ab95-506ce40c048d)



## Installation

### 1. Import Dashboard
  
- Log in to Grafana.

- Go to **Dashboards > Import**.

- Select the ``AlienVault-OSSIM-BySensors.json`` file.


### 2. Select the Data Source

- Confirm that Grafana requests the **OSSIM database** as input.

- Select a **MySQL** data source that points to the OSSIM server.

- If it doesn't exist, create one:

  - Type: ``MySQL``

  - Host: OSSIM server IP/DNS

  - Database: ``alienvault``

  - User: User with read permissions

  - Password: (Enter)

  - TLS: Configure as needed (optional).


### 3. Verify Dashboard Operation

- Verify that **all dashboards load data _correctly_**.

- Check for **data source or SQL errors**.

- Check that the **response times are _reasonable_**.


### 4. Save and Make Available

- If everything works correctly, click **Save Dashboard**.

- Optional: Assign read-only permissions to the team users.


### 5. Additional Notes

- The data source is **dynamic**; you can change it later if you migrate OSSIM or upgrade the database server.

- The dashboard supports advanced filters: **Sensor and Period**.

- Development and testing were carried out on the following platform:
  | Server           | Version | 
  |------------------|---------|
  | AlienVault OSSIM | 5.8.19  |
  | MariaDB          | 10.4.25 |

---

## Creating a User to Access the AlienVault Database

During the AlienVault OSSIM installation, we configured the password for the "root" administrator user of the Linux system, but not for the MySQL root user.

This password is generated by the installer and is unknown to us. Therefore, we must check it directly from the OSSIM configuration with the command:
~~~~
grep -A3 -B1 ^db_ /etc/ossim/ossim_setup.conf
~~~~
![image](https://github.com/user-attachments/assets/da4856d4-2cfd-4f6a-a5cd-8ca5ec5aa78f)

To perform the tests I created the grafana user on the MariaDB server with the following queries:
~~~~
CREATE USER 'grafana'@'my.grafana.server.ip' IDENTIFIED BY 'SecurePassword';
GRANT SELECT ON alienvault.* TO 'grafana'@'my.grafana.server.ip';
FLUSH PRIVILEGES;
~~~~

![image](https://github.com/user-attachments/assets/b63de30d-f0eb-477b-80af-5ebd396a7f95)



---


> [!NOTE]
> - [ ] DOCUMENTATION WORK IS IN PROGRESS
